{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "uuid": "661b5515-ad1e-4598-8dfa-63341d094ff7",
  "additionalProperties": false,
  "required": [
    "type",
    "config"
  ],
  "properties": {
    "type": {
      "const": "postgresql",
      "uuid": "1db2531b-59e2-414b-afa7-99263c188231"
    },
    "config": {
      "uuid": "1c1dcfb8-fda5-4f59-9cec-00cb1cca175e",
      "oneOf": [
        {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "url"
          ],
          "properties": {
            "url": {
              "type": "string",
              "uuid": "ec69d026-3a58-45a1-85ff-b8e7afea2d8c",
              "metatags": "@url"
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "username",
            "password",
            "host",
            "port",
            "db_name"
          ],
          "properties": {
            "username": {
              "type": "string",
              "uuid": "97595acc-76c9-4701-8697-824aac1504d5",
              "minLength": 1
            },
            "password": {
              "type": "string",
              "uuid": "a6ab4848-ca81-4cd7-80e3-b03dbe9b7545",
              "minLength": 1
            },
            "host": {
              "type": "string",
              "uuid": "a0f3b63c-009b-4a20-ac62-09a2c1a4f91e",
              "minLength": 1
            },
            "port": {
              "type": "string",
              "uuid": "81e68a89-84a8-4bb4-9b3f-cf29a7cb2b63",
              "minLength": 1
            },
            "db_name": {
              "type": "string",
              "uuid": "76c35fb9-9792-4d13-8f1f-88730b2bfaca",
              "minLength": 1
            },
            "options": {
              "type": "object",
              "uuid": "e6503355-e91b-4b27-9f4d-c8926390121c",
              "patternProperties": {
                ".+": {
                  "type": "string"
                }
              }
            }
          }
        }
      ]
    }
  },
  "example": "storage/postgresql"
}