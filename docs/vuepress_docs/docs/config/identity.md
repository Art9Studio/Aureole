# Идентификатор пользователя
***
В конфигурации описываются поля, которые будут участвовать в идентификации личности пользователя. На основании данной конфигурации Aureole понимает, какие поля будут описывать личность пользователя, какие из них являются обязательными данными для входа, какие могут передаваться только через административные каналы и т.д.
- Тип: **object**. Обязательны: `collection`, `id`, `username`, `phone`, `email`. Наличие дополнительных свойств: **Недопустимо**.
  - `collection`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина коллекции. Коллекция для хранения пользователей. Необходимо указать коллекцию, которая используется для хранения пользователей. Минимальная длина: **1**.
  - `id`: Значение по-умолчанию: **[{'enabled': True, 'unique': True, 'required': True, 'credential': False}]**. Конфигурация идентификатора пользователя. Используется для того, чтобы дать Aureole понять, какими свойствами обладает идентификатор пользователя и можно ли его использовать для аутентификации и авторизации. Для описания применяется структура Trait. См. [Trait](#trait).
  - `username`: Значение по-умолчанию: **[{'enabled': True, 'unique': False, 'required': False, 'credential': True}]**. Конфигурация имени пользователя. Используется для того, чтобы дать Aureole понять, какими свойствами обладает имя пользователя и можно ли его использовать для аутентификации и авторизации. Для описания применяется структура Trait. См. [Trait](#trait).
  - `phone`: Значение по-умолчанию: **[{'enabled': False, 'unique': True, 'required': False, 'credential': True}]**. Конфигурация телефона пользователя. Используется для того, чтобы дать Aureole понять, какими свойствами обладает телефон пользователя и можно ли его использовать для аутентификации и авторизации. Для описания применяется структура Trait. См. [Trait](#trait).
  - `email`: Значение по-умолчанию: **[{'enabled': False, 'unique': True, 'required': True, 'credential': True}]**. Конфигурация email-а пользователя. Используется для того, чтобы дать Aureole понять, какими свойствами обладает email пользователя и можно ли его использовать для аутентификации и авторизации. Для описания применяется структура Trait. См. [Trait](#trait).
  - `additional`: Тип: **array**. Конфигурация дополнительных полей, описывающих пользователя. Используется для того, чтобы дать Aureole понять, какими свойствами обладают какие-либо дополнительные поля, описывающие пользователя, и можно ли его использовать для аутентификации и авторизации. Для описания применяется структура ExtraTrait.
    - **Элементы**: Тип: **object**.
      - `regex(".+")`: См. [ExtraTrait](#extratrait).
  ### Пример конфига
  ```yaml
  identity:
    collection: identity
    id:
      enabled: true
      unique: true
      required: true
      credential: false
    username:
      unique: true
      required: true
    phone:
      enabled: true
    email:
    additional:
      first_name:
        required: false
        unique: false
        internal: false
      last_name:
  ```
### Определения
#### Trait
- `Trait`: Тип: **['object', 'null']**. Структура конфигурации полей для идентификации пользователя. С помощью данной структуры описываются свойства различных полей, которые могут использоваться для идентификации пользователя, что и определяется на основании данного конфига. Наличие дополнительных свойств: **Недопустимо**.
  - `enabled`: Тип: **boolean**. Включено ли поле. Определяет, сможет ли Aureole использовать данное поле. Все выключенные поля будут игнорироваться.
  - `unique`: Тип: **boolean**. Уникально ли поле. Определяет, будет ли Aureole считать это поле уникальным. Если поле не уникально, оно не может использоваться для аутентификации.
  - `required`: Тип: **boolean**. Является ли поле обязательным. Определяет, будет ли Aureole считать это поле обязательным.
  - `credential`: Тип: **boolean**. Является ли поле реквизитом для аутентификации. Определяет, должен ли Aureole считать это поле пригодным для аутентификации пользователя.
#### ExtraTrait
- `ExtraTrait`: Тип: **['object', 'null']**. Структура конфигурации полей, использующихся для хранения дополнительной информации в таблице пользователей. При помощи данной структуры описываются все поля, которые необходимо уметь распознавать Aureole, но которые не являются идентификаторами пользователя. Наличие дополнительных свойств: **Недопустимо**.
  - `unique`: Тип: **boolean**. Значение по-умолчанию: **False**. Уникально ли поле. Определяет, будет ли Aureole считать это поле уникальным.
  - `required`: Тип: **boolean**. Значение по-умолчанию: **False**. Является ли поле обязательным. Определяет, будет ли Aureole считать это поле обязательным.
  - `internal`: Тип: **boolean**. Значение по-умолчанию: **False**. Является ли поле внутренним. Определяет, возможно ли будет задавать значение этого поля запросом извне.
