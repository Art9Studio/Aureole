# Конфигурация аутентификатора.
***
Описывает все свойства данного аутентификатора. Данный плагин используется для аутентификации пользователя, предоставляя для этого различные способы, как регистрация/вход при помощи телефона/email/username и пароля, через различные соц. сети, а также беспарольный вход. Помимо регистрации и входа, плагины предоставляют дополнительный функционал, как, например, сброс пароля или верификация аккаунта.
- Тип: **object**. Обязательны: [`authZ`]. Наличие дополнительных свойств: **Недопустимо**.
  - `path_prefix`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: ****. Префикс маршрута аутентификатора. Префикс используется для образования пространства имен данного аутентификатора. Должен быть уникальным в пределах перечисления.
  - `authZ`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина авторизатора. Ссылка на авторизатор. Имя авторизатора, который будет использовать данный аутентификатор. Минимальная длина: **1**.
  ## Допустим один из вариантов конфига:
  ### Конфигурация apple аутентификатора.
  - Тип: **object**. Конфигурация apple аутентификатора. Служит для задания свойств аутентификатора. Обязательны: [`type`, `config`]. Наличие дополнительных свойств: **Недопустимо**.
    - `type`: Константа: **apple**. Тип аутентификатора. Необходим, чтобы дать Aureole понять, какой из аутентификаторов использовать.
    - `config`: Тип: **object**. Конфигурация аутентификатора. Описывает все свойства данного аутентификатора. Обязательны: [`collection`, `storage`, `secret_key`, `public_key`, `client_id`, `team_id`, `key_id`, `redirect_uri`]. Наличие дополнительных свойств: **Недопустимо**.
      - `collection`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина коллекции. Ссылка на OAuth2 коллекцию. Имя коллекции, которая будет использоваться для хранения данных OAuth2 аутентификации. Минимальная длина: **1**.
      - `storage`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина хранилища. Ссылка на хранилище данных. Имя хранилища, которое будет использоваться данным аутентификатором для взаимодейтсвия с коллекциями. Минимальная длина: **1**.
      - `secret_key`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина крипто-ключа. Ссылка на приватный ключ. Имя крипто ключа, который должен использоваться в качестве приватного при обращении к провайдеру. Минимальная длина: **1**.
      - `public_key`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина крипто-ключа. Ссылка на публичный ключ. Имя крипто ключа, который должен использоваться в качестве публичного при получении данных от провайдера. Минимальная длина: **1**.
      - `client_id`: Тип: **string**. Идентификатор приложения. Идентификатор приложения (Service ID), полученный при создании приложения у провайдера. Минимальная длина: **1**.
      - `team_id`: Тип: **string**. Идентификатор команды. Идентификатор команды, полученный при создании приложения у провайдера. Минимальная длина: **1**.
      - `key_id`: Тип: **string**. Идентификатор приватного ключа. Идентификатор ключа, который будет использоваться для подписи JWT при обращении к провайдеру. Минимальная длина: **1**.
      - `scopes`: Тип: **array**. Значение по-умолчанию: **['email']**. Массив дополнительных разрешений. В массиве перечисляются необязательные дополнительные разрешения, которые можно запросить у провайдера. Элементы должны быть уникальными.
        - **Элементы**: Тип: **string**. Минимальная длина: **1**.
      - `redirect_uri`: Тип: **string**. Дополнительно: Относительный URL-адрес. Ссылка для перенаправления. Ссылка используется для перенаправления пользователей после аутентификации на странице провайдера. Минимальная длина: **1**.
  ### Конфигурация google аутентификатора.
  - Тип: **object**. Конфигурация google аутентификатора. Служит для задания свойств аутентификатора. Обязательны: [`type`, `config`]. Наличие дополнительных свойств: **Недопустимо**.
    - `type`: Константа: **google**. Тип аутентификатора. Необходим, чтобы дать Aureole понять, какой из аутентификаторов использовать.
    - `config`: Тип: **object**. Конфигурация аутентификатора. Описывает все свойства данного аутентификатора. Обязательны: [`collection`, `storage`, `client_id`, `client_secret`, `redirect_uri`]. Наличие дополнительных свойств: **Недопустимо**.
      - `collection`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина коллекции. Ссылка на OAuth2 коллекцию. Имя коллекции, которая будет использоваться для хранения данных OAuth2 аутентификации. Минимальная длина: **1**.
      - `storage`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина хранилища. Ссылка на хранилище данных. Имя хранилища, которое будет использоваться данным аутентификатором для взаимодейтсвия с коллекциями. Минимальная длина: **1**.
      - `client_id`: Тип: **string**. Идентификатор приложения. Идентификатор приложения, полученный при создании приложения у провайдера. Минимальная длина: **1**.
      - `client_secret`: Тип: **string**. Секрет приложения. Секрет приложения, полученный при создании приложения у провайдера. Минимальная длина: **1**.
      - `scopes`: Тип: **array**. Значение по-умолчанию: **['email']**. Массив дополнительных разрешений. В массиве перечисляются необязательные дополнительные разрешения, которые можно запросить у провайдера. Элементы должны быть уникальными.
        - **Элементы**: Тип: **string**. Минимальная длина: **1**.
      - `redirect_uri`: Тип: **string**. Дополнительно: Относительный URL-адрес. Ссылка для перенаправления. Ссылка используется для перенаправления пользователей после аутентификации на странице провайдера. Минимальная длина: **1**.
  ### Конфигурация facebook аутентификатора.
  - Тип: **object**. Конфигурация facebook аутентификатора. Служит для задания свойств аутентификатора. Обязательны: [`type`, `config`]. Наличие дополнительных свойств: **Недопустимо**.
    - `type`: Константа: **facebook**. Тип аутентификатора. Необходим, чтобы дать Aureole понять, какой из аутентификаторов использовать.
    - `config`: Тип: **object**. Конфигурация аутентификатора. Описывает все свойства данного аутентификатора. Обязательны: [`collection`, `storage`, `client_id`, `client_secret`, `redirect_uri`]. Наличие дополнительных свойств: **Недопустимо**.
      - `collection`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина коллекции. Ссылка на OAuth2 коллекцию. Имя коллекции, которая будет использоваться для хранения данных OAuth2 аутентификации. Минимальная длина: **1**.
      - `storage`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина хранилища. Ссылка на хранилище данных. Имя хранилища, которое будет использоваться данным аутентификатором для взаимодейтсвия с коллекциями. Минимальная длина: **1**.
      - `client_id`: Тип: **string**. Идентификатор приложения. Идентификатор приложения, полученный при создании приложения у провайдера. Минимальная длина: **1**.
      - `client_secret`: Тип: **string**. Секрет приложения. Секрет приложения, полученный при создании приложения у провайдера. Минимальная длина: **1**.
      - `scopes`: Тип: **array**. Значение по-умолчанию: **['email']**. Массив дополнительных разрешений. В массиве перечисляются необязательные дополнительные разрешения, которые можно запросить у провайдера. Элементы должны быть уникальными.
        - **Элементы**: Тип: **string**. Минимальная длина: **1**.
      - `redirect_uri`: Тип: **string**. Дополнительно: Относительный URL-адрес. Ссылка для перенаправления. Ссылка используется для перенаправления пользователей после аутентификации на странице провайдера. Минимальная длина: **1**.
      - `fields`: Тип: **array**. Значение по-умолчанию: **['email']**. Массив дополнительных полей. В массиве перечисляются необязательные дополнительные поля, которые можно запросить у провайдера Элементы должны быть уникальными.
        - **Элементы**: Тип: **string**. Минимальная длина: **1**.
  ### Конфигурация vk аутентификатора.
  - Тип: **object**. Конфигурация vk аутентификатора. Служит для задания свойств аутентификатора. Обязательны: [`type`, `config`]. Наличие дополнительных свойств: **Недопустимо**.
    - `type`: Константа: **vk**. Тип аутентификатора. Необходим, чтобы дать Aureole понять, какой из аутентификаторов использовать.
    - `config`: Тип: **object**. Конфигурация аутентификатора. Описывает все свойства данного аутентификатора. Обязательны: [`collection`, `storage`, `client_id`, `client_secret`, `redirect_uri`]. Наличие дополнительных свойств: **Недопустимо**.
      - `collection`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина коллекции. Ссылка на OAuth2 коллекцию. Имя коллекции, которая будет использоваться для хранения данных OAuth2 аутентификации. Минимальная длина: **1**.
      - `storage`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина хранилища. Ссылка на хранилище данных. Имя хранилища, которое будет использоваться данным аутентификатором для взаимодейтсвия с коллекциями. Минимальная длина: **1**.
      - `client_id`: Тип: **string**. Идентификатор приложения. Идентификатор приложения, полученный при создании приложения у провайдера. Минимальная длина: **1**.
      - `client_secret`: Тип: **string**. Секрет приложения. Секрет приложения, полученный при создании приложения у провайдера. Минимальная длина: **1**.
      - `scopes`: Тип: **array**. Значение по-умолчанию: **['email']**. Массив дополнительных разрешений. В массиве перечисляются необязательные дополнительные разрешения, которые можно запросить у провайдера. Элементы должны быть уникальными.
        - **Элементы**: Тип: **string**. Минимальная длина: **1**.
      - `redirect_uri`: Тип: **string**. Дополнительно: Относительный URL-адрес. Ссылка для перенаправления. Ссылка используется для перенаправления пользователей после аутентификации на странице провайдера. Минимальная длина: **1**.
      - `fields`: Тип: **array**. Массив дополнительных полей. В массиве перечисляются необязательные дополнительные поля, которые можно запросить у провайдера Элементы должны быть уникальными.
        - **Элементы**: Тип: **string**. Минимальная длина: **1**.
  ### Конфигурация password based аутентификатора.
  - Тип: **object**. Конфигурация password based аутентификатора. Служит для задания свойств аутентификатора. Обязательны: [`type`, `config`]. Наличие дополнительных свойств: **Недопустимо**.
    - `type`: Константа: **password_based**. Тип аутентификатора. Необходим, чтобы дать Aureole понять, какой из аутентификаторов использовать.
    - `config`: Тип: **object**. Конфигурация аутентификатора. Описывает все свойства данного аутентификатора. Обязательны: [`main_hasher`, `collection`, `storage`]. Наличие дополнительных свойств: **Недопустимо**.
      - `main_hasher`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина хэшера. Ссылка на хэшер. Имя хэшера, который будет использоваться в качестве главного. Именно им в приоритете хэшируются все пароли. Минимальная длина: **1**.
      - `compat_hashers`: Тип: **array**. Массив ссылок на хэшеры Перечисление имен совместимых хэшеров. Если пароль был зашифрован одним из них, Aureole будет использовать данный хэшер для сравнения паролей. Элементы должны быть уникальными.
        - **Элементы**: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина хэшера. Минимальная длина: **1**.
      - `collection`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина коллекции. Ссылка на коллекцию паролей. Имя коллекции, которая будет использоваться для хранения паролей. Минимальная длина: **1**.
      - `storage`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина хранилища. Ссылка на хранилище данных. Имя хранилища, которое будет использоваться данным аутентификатором для взаимодейтсвия с коллекциями. Минимальная длина: **1**.
      - `login`: Тип: **object**. Конфигурация логина. Описывает поля, которые нужны Aureole для обработки пользовательского входа в аккаунт. Наличие дополнительных свойств: **Недопустимо**.
        - `path`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: **/login**. Маршрут логина. Маршрут, на котором будет работать обработчик пользовательского входа в аккаунт.
        - `fields_map`: Тип: **object**. Сопоставление полей. Описание местанахождения полей в теле запроса. Для описания используется синтаксис JSONPath. Наличие дополнительных свойств: **Недопустимо**.
          - `username`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.username}**. Сопоставление имени пользователя. В формате JSONPath описывает местанахождение имени пользователя в теле запроса.
          - `email`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.email}**. Сопоставление email пользователя. В формате JSONPath описывает местанахождение email пользователя в теле запроса.
          - `phone`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.phone}**. Сопоставление телефона пользователя. В формате JSONPath описывает местанахождение телефона пользователя в теле запроса.
          - `password`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.password}**. Сопоставление пароля пользователя. В формате JSONPath описывает местанахождение пароля пользователя в теле запроса.
      - `register`: Тип: **object**. Конфигурация регистрации. Описывает поля, которые нужны Aureole для регистрации пользователей. Наличие дополнительных свойств: **Недопустимо**.
        - `path`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: **/register**. Маршрут регистрации. Маршрут, на котором будет работать обработчик регистрации пользователей.
        - `login_after`: Тип: **boolean**. Значение по-умолчанию: **False**. Флаг логина после регистрации. Определяет, необходимо ли осуществлять автоматический логин пользователя после его регистрации.
        - `verify_after`: Тип: **boolean**. Значение по-умолчанию: **False**. Флаг верификации акаунта после регистрации. Определяет, необходимо ли осуществлять автоматическую верификацию аккаунта после его регистрации.
        - `fields_map`: Тип: **object**. Сопоставление полей. Описание местанахождения полей в теле запроса. Для описания используется синтаксис JSONPath. Наличие дополнительных свойств: **Недопустимо**.
          - `username`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.username}**. Сопоставление имени пользователя. В формате JSONPath описывает местанахождение имени пользователя в теле запроса.
          - `email`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.email}**. Сопоставление email пользователя. В формате JSONPath описывает местанахождение email пользователя в теле запроса.
          - `phone`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.phone}**. Сопоставление телефона пользователя. В формате JSONPath описывает местанахождение телефона пользователя в теле запроса.
          - `password`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.password}**. Сопоставление пароля пользователя. В формате JSONPath описывает местанахождение пароля пользователя в теле запроса.
      - `password_reset`: Тип: **object**. Конфигурация сброса пароля. Описывает поля, которые нужны Aureole для сброса пользовательского пароля. Обязательны: [`collection`, `sender`, `template`]. Наличие дополнительных свойств: **Недопустимо**.
        - `path`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: **/password/reset**. Маршрут запроса сброса пароля. Маршрут, на котором будет работать обработчик запроса сброса пароля.
        - `confirm_url`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: **/password/reset/confirm**. Маршрут запроса подтверждения сброса пароля. Маршрут, на котором будет работать обработчик запроса подтверждения сброса пароля. Этот URL будет отправляться пользователям на почту.
        - `collection`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина коллекции. Ссылка на коллекцию учета сброса паролей. Имя коллекции, которая будет использоваться для хранения данных о сбросах паролей пользователей. Минимальная длина: **1**.
        - `sender`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина отправителя. Ссылка на отправитель. Имя отправителя, который будет использоваться для доставки писем с ссылкой на сброс пароля. Минимальная длина: **1**.
        - `template`: Тип: **string**. Дополнительно: Ссылка на один из шаблонов. Ссылка на шаблон. Имя шаблона, на основании которого будет формироваться письмо, доставляемое пользователю. Минимальная длина: **1**.
        - `token`: Тип: **object**. Конфигурация токена. Пользоваляет настроить уникальные токены, которые будут использоваться для сброса паролей. Наличие дополнительных свойств: **Недопустимо**.
          - `exp`: Тип: **integer**. Дополнительно: Единицы измерения:  s. Значение по-умолчанию: **3600**. Время жизни токена. Время, на протяжении которого токен будет валидным. Отсчет начинается с момента формирования токена. Минимальное значение: **0**.
          - `hash_func`: Допускаются следующие значения: [`sha1`, `sha224`, `sha256`, `sha384`, `sha512`]. Значение по-умолчанию: **sha256**. Имя хэш-функции. Имя функции, которая будет использоваться для хэширования токенов.
        - `fields_map`: Тип: **object**. Сопоставление полей. Описание местанахождения полей в теле запроса. Для описания используется синтаксис JSONPath. Наличие дополнительных свойств: **Недопустимо**.
          - `email`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.email}**. Сопоставление email пользователя. В формате JSONPath описывает местанахождение email пользователя в теле запроса.
      - `verification`: Тип: **object**. Конфигурация верификации аккаунтов. Описывает поля, которые нужны Aureole для верификации пользовательских аккаунтов. Обязательны: [`collection`, `sender`, `template`]. Наличие дополнительных свойств: **Недопустимо**.
        - `path`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: **/email-verify**. Маршрут запроса верификации аккаунта. Маршрут, на котором будет работать обработчик запроса верификации аккаунта.
        - `confirm_url`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: **/email-verify/confirm**. Маршрут запроса подтверждения верификации аккаунта. Маршрут, на котором будет работать обработчик запроса подтверждения верификации аккаунта. Этот URL будет отправляться пользователям на почту.
        - `collection`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина коллекции. Ссылка на коллекцию учета верификаций аккаунтов. Имя коллекции, которая будет использоваться для хранения данных о верификациях аккаунтов пользователей. Минимальная длина: **1**.
        - `sender`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина отправителя. Ссылка на отправитель. Имя отправителя, который будет использоваться для доставки писем с ссылкой для верификации аккаунта. Минимальная длина: **1**.
        - `template`: Тип: **string**. Дополнительно: Ссылка на один из шаблонов. Ссылка на шаблон. Имя шаблона, на основании которого будет формироваться письмо, доставляемое пользователю. Минимальная длина: **1**.
        - `token`: Тип: **object**. Конфигурация токена. Пользоволяет настроить уникальные токены, которые будут использоваться для верификации аккаунта. Наличие дополнительных свойств: **Недопустимо**.
          - `exp`: Тип: **integer**. Дополнительно: Единицы измерения:  s. Значение по-умолчанию: **3600**. Время жизни токена. Время, на протяжении которого токен будет валидным. Отсчет начинается с момента формирования токена. Минимальное значение: **0**.
          - `hash_func`: Допускаются следующие значения: [`sha1`, `sha224`, `sha256`, `sha384`, `sha512`]. Значение по-умолчанию: **sha256**. Имя хэш-функции. Имя функции, которая будет использоваться для хэширования токенов.
        - `fields_map`: Тип: **object**. Сопоставление полей. Описание местанахождения полей в теле запроса. Для описания используется синтаксис JSONPath. Наличие дополнительных свойств: **Недопустимо**.
          - `email`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.email}**. Сопоставление email пользователя. В формате JSONPath описывает местанахождение email пользователя в теле запроса.
  ### Определения:
  ### PwbasedCollection
  - `type`: Константа: **pwbased**. Тип коллекции. Необходим, чтобы дать Aureole понять, какую из коллекций использовать.
  - `config`: Тип: **object**. Конфигурация коллекции. Описывает все свойства данной коллекции. Обязательны: [`fields_map`]. Наличие дополнительных свойств: **Недопустимо**.
    - `fields_map`: Тип: **object**. Сопоставление полей. Перечисление сопоставлений данных с названиями полей в таблице БД. Обязательны: [`password`]. Наличие дополнительных свойств: **Недопустимо**.
      - `password`: Тип: **string**. Сопоставление пароля пользователя. Описывает, как называется поле в таблице БД, которое является паролем пользователя. Минимальная длина: **1**.
  ### PasswordResetCollection
  - `type`: Константа: **password_reset**. Тип коллекции. Необходим, чтобы дать Aureole понять, какую из коллекций использовать.
  - `config`: Тип: **object**. Конфигурация коллекции. Описывает все свойства данной коллекции. Обязательны: [`name`, `pk`, `fields_map`]. Наличие дополнительных свойств: **Недопустимо**.
    - `name`: Тип: **string**. Дополнительно: Имя экземпляра плагина. Имя таблицы в БД. Указывается имя таблицы, с которой будет взаимодействовать данная коллекция. Минимальная длина: **1**.
    - `pk`: Тип: **string**. Ссылка на первичный ключ. Указывается имя поля, которое является первичным ключом таблицы. Имя поля должно быть описано в сопоставлении полей. Минимальная длина: **1**.
    - `fields_map`: Тип: **object**. Сопоставление полей. Перечисление сопоставлений данных с названиями полей в таблице БД. Обязательны: [`id`, `email`, `token`, `expires`, `invalid`]. Наличие дополнительных свойств: **Недопустимо**.
      - `id`: Тип: **string**. Сопоставление идентификатора записи. Описывает, как называется поле в таблице БД, которое является идентификатором записи. Минимальная длина: **1**.
      - `email`: Тип: **string**. Сопоставление email-а. Описывает, как поле, которое хранит электронную почту, называется в БД. Минимальная длина: **1**.
      - `token`: Тип: **string**. Сопоставление токена. Описывает, как поле, которое хранит токен, называется в БД. Минимальная длина: **1**.
      - `expires`: Тип: **string**. Сопоставление времени истечения токена. Описывает, как поле, которое хранит время конца жизни токена, называется в БД. Минимальная длина: **1**.
      - `invalid`: Тип: **string**. Сопоставление флага валидности токена. Описывает, как поле, которое хранит флаг того, валиден ли токен или нет, называется в БД. Минимальная длина: **1**.
  ### EmailVerificationCollection
  - `type`: Константа: **email_verification**. Тип коллекции. Необходим, чтобы дать Aureole понять, какую из коллекций использовать.
  - `config`: Тип: **object**. Конфигурация коллекции. Описывает все свойства данной коллекции. Обязательны: [`name`, `pk`, `fields_map`]. Наличие дополнительных свойств: **Недопустимо**.
    - `name`: Тип: **string**. Дополнительно: Имя экземпляра плагина. Имя таблицы в БД. Указывается имя таблицы, с которой будет взаимодействовать данная коллекция. Минимальная длина: **1**.
    - `pk`: Тип: **string**. Ссылка на первичный ключ. Указывается имя поля, которое является первичным ключом таблицы. Имя поля должно быть описано в сопоставлении полей. Минимальная длина: **1**.
    - `fields_map`: Тип: **object**. Сопоставление полей. Перечисление сопоставлений данных с названиями полей в таблице БД. Обязательны: [`id`, `email`, `token`, `expires`, `invalid`]. Наличие дополнительных свойств: **Недопустимо**.
      - `id`: Тип: **string**. Сопоставление идентификатора записи. Описывает, как называется поле в таблице БД, которое является идентификатором записи. Минимальная длина: **1**.
      - `email`: Тип: **string**. Сопоставление email-а. Описывает, как поле, которое хранит электронную почту, называется в БД. Минимальная длина: **1**.
      - `token`: Тип: **string**. Сопоставление токена. Описывает, как поле, которое хранит токен, называется в БД. Минимальная длина: **1**.
      - `expires`: Тип: **string**. Сопоставление времени истечения токена. Описывает, как поле, которое хранит время конца жизни токена, называется в БД. Минимальная длина: **1**.
      - `invalid`: Тип: **string**. Сопоставление флага валидности токена. Описывает, как поле, которое хранит флаг того, валиден ли токен или нет, называется в БД. Минимальная длина: **1**.
  ### Конфигурация email аутентификатора.
  - Тип: **object**. Конфигурация email аутентификатора. Служит для задания свойств аутентификатора. Обязательны: [`type`, `config`]. Наличие дополнительных свойств: **Недопустимо**.
    - `type`: Константа: **email**. Тип аутентификатора. Необходим, чтобы дать Aureole понять, какой из аутентификаторов использовать.
    - `config`: Тип: **object**. Конфигурация аутентификатора. Описывает все свойства данного аутентификатора. Обязательны: [`collection`, `storage`, `magic_link`]. Наличие дополнительных свойств: **Недопустимо**.
      - `collection`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина коллекции. Ссылка на коллекцию email-ов. Имя коллекции, которая будет использоваться для хранения email-ов пользователей. Минимальная длина: **1**.
      - `storage`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина хранилища. Ссылка на хранилище данных. Имя хранилища, которое будет использоваться данным аутентификатором для взаимодейтсвия с коллекциями. Минимальная длина: **1**.
      - `login`: Тип: **object**. Конфигурация логина. Описывает поля, которые нужны Aureole для обработки пользовательского входа в аккаунт. Наличие дополнительных свойств: **Недопустимо**.
        - `path`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: **/login**. Маршрут логина. Маршрут, на котором будет работать обработчик пользовательского входа в аккаунт.
        - `fields_map`: Тип: **object**. Сопоставление полей. Описание местанахождения полей в теле запроса. Для описания используется синтаксис JSONPath. Наличие дополнительных свойств: **Недопустимо**.
          - `email`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.email}**. Сопоставление email пользователя. В формате JSONPath описывает местанахождение email пользователя в теле запроса.
      - `register`: Тип: **object**. Конфигурация регистрации. Описывает поля, которые нужны Aureole для регистрации пользователей. Наличие дополнительных свойств: **Недопустимо**.
        - `path`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: **/register**. Маршрут регистрации. Маршрут, на котором будет работать обработчик регистрации пользователей.
        - `fields_map`: Тип: **object**. Сопоставление полей. Описание местанахождения полей в теле запроса. Для описания используется синтаксис JSONPath. Наличие дополнительных свойств: **Недопустимо**.
          - `username`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.username}**. Сопоставление имени пользователя. В формате JSONPath описывает местанахождение имени пользователя в теле запроса.
          - `email`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.email}**. Сопоставление email пользователя. В формате JSONPath описывает местанахождение email пользователя в теле запроса.
          - `phone`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.phone}**. Сопоставление телефона пользователя. В формате JSONPath описывает местанахождение телефона пользователя в теле запроса.
      - `magic_link`: Тип: **object**. Конфигурация магической ссылки. Конфигурация ссылки для входа в акаунт, которая будет отправляться пользователям на почту. Обязательны: [`collection`, `sender`, `template`]. Наличие дополнительных свойств: **Недопустимо**.
        - `path`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: **/email-confirm**. Маршрут магической ссылки. Маршрут, на котором будет работать обработчик пользовательского входа в аккаунт при клике на ссылку. Минимальная длина: **1**.
        - `collection`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина коллекции. Ссылка на коллекцию учета магических ссылок. Имя коллекции, которая будет использоваться для хранения данных об отправленных пользователям магическим ссылкам. Минимальная длина: **1**.
        - `sender`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина отправителя. Ссылка на отправитель. Имя отправителя, который будет использоваться для доставки писем с магической ссылкой. Минимальная длина: **1**.
        - `template`: Тип: **string**. Дополнительно: Ссылка на один из шаблонов. Ссылка на шаблон. Имя шаблона, на основании которого будет формироваться письмо, доставляемое пользователю. Минимальная длина: **1**.
        - `token`: Тип: **object**. Конфигурация токена. Пользоваляет настроить уникальные токены, которые будут для создания магических ссылок. Наличие дополнительных свойств: **Недопустимо**.
          - `exp`: Тип: **integer**. Дополнительно: Единицы измерения:  s. Значение по-умолчанию: **3600**. Время жизни токена. Время, на протяжении которого токен будет валидным. Отсчет начинается с момента формирования токена. Минимальное значение: **0**.
          - `hash_func`: Допускаются следующие значения: [`sha1`, `sha224`, `sha256`, `sha384`, `sha512`]. Значение по-умолчанию: **sha256**. Имя хэш-функции. Имя функции, которая будет использоваться для хэширования токенов.
  ### Определения:
  ### EmailLinkCollection
  - `type`: Константа: **email_link**. Тип коллекции. Необходим, чтобы дать Aureole понять, какую из коллекций использовать.
  - `config`: Тип: **object**. Конфигурация коллекции. Описывает все свойства данной коллекции. Обязательны: [`name`, `pk`, `fields_map`]. Наличие дополнительных свойств: **Недопустимо**.
    - `name`: Тип: **string**. Дополнительно: Имя экземпляра плагина. Имя таблицы в БД. Указывается имя таблицы, с которой будет взаимодействовать данная коллекция. Минимальная длина: **1**.
    - `pk`: Тип: **string**. Ссылка на первичный ключ. Указывается имя поля, которое является первичным ключом таблицы. Имя поля должно быть описано в сопоставлении полей. Минимальная длина: **1**.
    - `fields_map`: Тип: **object**. Сопоставление полей. Перечисление сопоставлений данных с названиями полей в таблице БД. Обязательны: [`id`, `email`, `token`, `expires`, `invalid`]. Наличие дополнительных свойств: **Недопустимо**.
      - `id`: Тип: **string**. Сопоставление идентификатора записи. Описывает, как называется поле в таблице БД, которое является идентификатором записи. Минимальная длина: **1**.
      - `email`: Тип: **string**. Сопоставление email-а. Описывает, как поле, которое хранит электронную почту, называется в БД. Минимальная длина: **1**.
      - `token`: Тип: **string**. Сопоставление токена. Описывает, как поле, которое хранит токен, называется в БД. Минимальная длина: **1**.
      - `expires`: Тип: **string**. Сопоставление времени истечения токена. Описывает, как поле, которое хранит время конца жизни токена, называется в БД. Минимальная длина: **1**.
      - `invalid`: Тип: **string**. Сопоставление флага валидности токена. Описывает, как поле, которое хранит флаг того, валиден ли токен или нет, называется в БД. Минимальная длина: **1**.
  ### Конфигурация phone аутентификатора.
  - Тип: **object**. Конфигурация phone аутентификатора. Служит для задания свойств аутентификатора. Обязательны: [`type`, `config`]. Наличие дополнительных свойств: **Недопустимо**.
    - `type`: Константа: **phone**. Тип аутентификатора. Необходим, чтобы дать Aureole понять, какой из аутентификаторов использовать.
    - `config`: Тип: **object**. Конфигурация аутентификатора. Описывает все свойства данного аутентификатора. Обязательны: [`collection`, `storage`, `verification`]. Наличие дополнительных свойств: **Недопустимо**.
      - `hasher`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина хэшера. Ссылка на хэшер. Имя хэшера, который будет использоваться для хэширования одноразовых паролей. Минимальная длина: **1**.
      - `collection`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина коллекции. Ссылка на коллекцию телефонов. Имя коллекции, которая будет использоваться для хранения телефонов пользователей. Минимальная длина: **1**.
      - `storage`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина хранилища. Ссылка на хранилище данных. Имя хранилища, которое будет использоваться данным аутентификатором для взаимодейтсвия с коллекциями. Минимальная длина: **1**.
      - `login`: Тип: **object**. Конфигурация логина. Описывает поля, которые нужны Aureole для обработки пользовательского входа в аккаунт. Наличие дополнительных свойств: **Недопустимо**.
        - `path`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: **/login**. Маршрут логина. Маршрут, на котором будет работать обработчик пользовательского входа в аккаунт.
        - `fields_map`: Тип: **object**. Сопоставление полей. Описание местанахождения полей в теле запроса. Для описания используется синтаксис JSONPath. Наличие дополнительных свойств: **Недопустимо**.
          - `phone`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.phone}**. Сопоставление телефона пользователя. В формате JSONPath описывает местанахождение телефона пользователя в теле запроса.
      - `register`: Тип: **object**. Конфигурация регистрации. Описывает поля, которые нужны Aureole для регистрации пользователей. Наличие дополнительных свойств: **Недопустимо**.
        - `path`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: **/register**. Маршрут регистрации. Маршрут, на котором будет работать обработчик регистрации пользователей.
        - `fields_map`: Тип: **object**. Сопоставление полей. Описание местанахождения полей в теле запроса. Для описания используется синтаксис JSONPath. Наличие дополнительных свойств: **Недопустимо**.
          - `username`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.username}**. Сопоставление имени пользователя. В формате JSONPath описывает местанахождение имени пользователя в теле запроса.
          - `email`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.email}**. Сопоставление email пользователя. В формате JSONPath описывает местанахождение email пользователя в теле запроса.
          - `phone`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.phone}**. Сопоставление телефона пользователя. В формате JSONPath описывает местанахождение телефона пользователя в теле запроса.
      - `verification`: Тип: **object**. Конфигурация подтверждения входа в аккаунт. Описывает поля, которые необходимы Aureole для подтверждения пользовательского входа в аккаунт, осуществляемого с помощью одноразового пароля. Обязательны: [`collection`, `sender`, `template`]. Наличие дополнительных свойств: **Недопустимо**.
        - `path`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: **/login/verify**. Маршрут подтверждения входа в аккаунт. Маршрут, на котором будет работать обработчик подтверждения пользовательского входа в аккаунт, осуществляемого с помощью одноразового пароля.
        - `resend_url`: Тип: **string**. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: **/login/resend**. Маршрут повторной отправки одноразового пароля. При запросе на этот маршрут сервер будет высылать новый одноразовый пароль.
        - `collection`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина коллекции. Ссылка на коллекцию учета одноразовых паролей. Имя коллекции, которая будет использоваться для хранения одноразовых паролей пользователей. Минимальная длина: **1**.
        - `sender`: Тип: **string**. Дополнительно: Ссылка на экземпляр плагина отправителя. Ссылка на отправитель. Имя отправителя, который будет использоваться для доставки сообщений с одноразовым паролем. Минимальная длина: **1**.
        - `template`: Тип: **string**. Дополнительно: Ссылка на один из шаблонов. Ссылка на шаблон. Имя шаблона, на основании которого будет формироваться сообщение, доставляемое пользователю. Минимальная длина: **1**.
        - `max_attempts`: Тип: **integer**. Значение по-умолчанию: **3**. Максимальное количество попыток. Максимальное количество попыток ввода одноразового пароля. При превышении количества попыток пароль становится невалидным. Минимальное значение: **0**.
        - `otp`: Тип: **object**. Конфигурация одноразового пароля. Позволяет настроить уникальные одноразовые пароли, которые будут использоваться для входа в аккаунт. Наличие дополнительных свойств: **Недопустимо**.
          - `length`: Тип: **integer**. Значение по-умолчанию: **1**. Длина пароля. Aureole будет формировать пароль указанной длины. Минимальное значение: **1**.
          - `alphabet`: Тип: **string**. Значение по-умолчанию: **1234567890**. Алфавит для формирования пароля. Aureole будет формировать пароль, используя заданный алфавит. Минимальная длина: **1**.
          - `prefix`: Тип: **string**. Значение по-умолчанию: ****. Префикс одноразового пароля. При формировании пароля Aureole будет добавлять указанный префикс ко всем паролям.
          - `exp`: Тип: **integer**. Дополнительно: Единицы измерения:  s. Значение по-умолчанию: **300**. Время жизни пароля. Время, на протяжении которого пароль будет валидным. Отсчет начинается с момента формирования пароля. Минимальное значение: **0**.
        - `fields_map`: Тип: **object**. Сопоставление полей. Описание местанахождение полей в теле запроса. Для описания используется синтаксис JSONPath. Наличие дополнительных свойств: **Недопустимо**.
          - `id`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.id}**. Сопоставление идентификатора записи. В формате JSONPath описывает местанахождение идентификатора записи в теле запроса.
          - `otp`: Тип: **string**. Дополнительно: Путь в формате JSON Path. Значение по-умолчанию: **{$.otp}**. Сопоставление одноразового пароля. В формате JSONPath описывает местанахождение одноразового пароля в теле запроса.
  ### Определения:
  ### PhoneOtpCollection
  - `type`: Константа: **phone_otp**. Тип коллекции. Необходим, чтобы дать Aureole понять, какую из коллекций использовать.
  - `config`: Тип: **object**. Конфигурация коллекции. Описывает все свойства данной коллекции. Обязательны: [`name`, `pk`, `fields_map`]. Наличие дополнительных свойств: **Недопустимо**.
    - `name`: Тип: **string**. Дополнительно: Имя экземпляра плагина. Имя таблицы в БД. Указывается имя таблицы, с которой будет взаимодействовать данная коллекция. Минимальная длина: **1**.
    - `pk`: Тип: **string**. Ссылка на первичный ключ. Указывается имя поля, которое является первичным ключом таблицы. Имя поля должно быть описано в сопоставлении полей. Минимальная длина: **1**.
    - `fields_map`: Тип: **object**. Сопоставление полей. Перечисление сопоставлений данных с названиями полей в таблице БД. Обязательны: [`id`, `phone`, `otp`, `attempts`, `expires`, `invalid`]. Наличие дополнительных свойств: **Недопустимо**.
      - `id`: Тип: **string**. Сопоставление идентификатора записи. Описывает, как называется поле в таблице БД, которое является идентификатором записи. Минимальная длина: **1**.
      - `phone`: Тип: **string**. Сопоставление телефона. Описывает, как называется поле в таблице БД, которое является телефоном. Минимальная длина: **1**.
      - `otp`: Тип: **string**. Сопоставление одноразового пароля. Описывает, как поле, которое хранит одноразовый пароль, называется в БД. Минимальная длина: **1**.
      - `attempts`: Тип: **string**. Сопоставление количества попыток. Описывает, как поле, которое хранит количество попыток пользователя ввести пароль, называется в БД. Минимальная длина: **1**.
      - `expires`: Тип: **string**. Сопоставление времени истечения одноразового пароля. Описывает, как поле, которое хранит время конца жизни одноразового пароля, называется в БД. Минимальная длина: **1**.
      - `invalid`: Тип: **string**. Сопоставление флага валидности пароля. Описывает, как поле, которое хранит флаг того, валиден ли пароль или нет, называется в БД. Минимальная длина: **1**.
