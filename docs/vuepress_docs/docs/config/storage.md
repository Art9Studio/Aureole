# Хранилище
***
Описывает все свойства данного хранилища. Данный плагин используется для работы с различными хранилищами данных. В плагине описаны методы, которые используется для сохранения, изменения и удаления данных. Для работы плагина требуется существующее хранилище.
- Тип: **object**. Обязательны: `name`. Наличие дополнительных свойств: **Недопустимо**.
  - `name`: Тип: **string**. Дополнительно: Имя экземпляра плагина. Имя хранилища. Имя используется для того, чтобы в дальнейшем ссылаться на данное хранилище. Минимальная длина: **1**.
  #### Допустим один из вариантов конфига
  ## Конфигурация PostgreSQL хранилища.
  - Тип: **object**. Конфигурация PostgreSQL хранилища. Позволяет использовать PostgreSQL БД в качестве хранилища данных. Обязательны: `type`, `config`. Наличие дополнительных свойств: **Недопустимо**.
    - `type`: Константа: **postgresql**. Тип хранилища. Необходим, чтобы дать Aureole понять, какое из хранилищ использовать.
    - `config`: Конфигурация хранилища. Описывает все свойства данного хранилища.
      #### Допустим один из вариантов конфига
      - Тип: **object**. Обязательны: `url`. Наличие дополнительных свойств: **Недопустимо**.
        - `url`: Тип: **string**. Дополнительно: Абсолютный URL-адрес. Строка подключения к базе. Строка подключения к базе в формате DSN (Data Source Name).
      - Тип: **object**. Обязательны: `username`, `password`, `host`, `port`, `db_name`. Наличие дополнительных свойств: **Недопустимо**.
        - `username`: Тип: **string**. Имя пользователя. Имя пользователя для аутентификации в БД. Минимальная длина: **1**.
        - `password`: Тип: **string**. Пароль пользователя. Пароль пользователя для аутентификации в БД. Минимальная длина: **1**.
        - `host`: Тип: **string**. Хост БД. Наименование хоста, на котором работает БД. Минимальная длина: **1**.
        - `port`: Тип: **string**. Порт БД. Наименование порта, на котором работает БД. Минимальная длина: **1**.
        - `db_name`: Тип: **string**. Имя БД. Имя БД, к которой необходимо подключиться. Минимальная длина: **1**.
        - `options`: Тип: **object**. Перечисление опций. Список дополнительный опций.
          - `regex(".+")`: Тип: **string**.
    ### Пример конфига
    ```yaml
    storages:
      - type: "postgresql"
        name: db
        config:
          url: "postgresql://root:password@localhost:5432/aureole?sslmode=disable&search_path=public"
    
      - type: "postgresql"
        name: db_two
        config:
          username: "root"
          password: "password"
          host: "localhost"
          port: "5432"
          db_name: "aureole"
          options:
            sslmode: "disable"
            search_path: "public"
    
    ```
  ## Конфигурация file хранилища.
  - Тип: **object**. Конфигурация file хранилища. Позволяет использовать файловую систему для хранения данных.. Обязательны: `type`, `config`. Наличие дополнительных свойств: **Недопустимо**.
    - `type`: Константа: **file**. Тип хранилища. Необходим, чтобы дать Aureole понять, какое из хранилищ использовать.
    - `config`: Тип: **object**. Конфигурация хранилища. Описывает все свойства данного хранилища. Обязательны: `path`.
      - `path`: Тип: **string**. Дополнительно: Путь к файлу, Расширение файла:  json. Путь к файлу. Указывает путь к файлу, с которым будут производитсья операции чтения/записи.
    ### Пример конфига
    ```yaml
    storages:
      - type: "file"
        name: jwk_keys_store
        config:
          path: "lab/keys/keys.json"
    ```
  ## Конфигурация url хранилища.
  - Тип: **object**. Конфигурация url хранилища. Позволяет получать ресурсы хранящиеся по определенному адресу в сети. Обязательны: `type`, `config`. Наличие дополнительных свойств: **Недопустимо**.
    - `type`: Константа: **url**. Тип хранилища. Необходим, чтобы дать Aureole понять, какое из хранилищ использовать.
    - `config`: Тип: **object**. Конфигурация хранилища. Описывает все свойства данного хранилища. Обязательны: `path`.
      - `path`: Тип: **string**. Дополнительно: Абсолютный URL-адрес. Путь к ресурсу. Маршрут в сети, по которому Aureole будет читать данные.
    ### Пример конфига
    ```yaml
    storages:
      - type: "url"
        name: google_keys_store
        config:
          path: "https://www.googleapis.com/oauth2/v3/certs"
    ```
  ## Конфигурация Vault хранилища.
  - Тип: **object**. Конфигурация Vault хранилища. Позволяет использовать Vault в качестве хранилища данных. Обязательны: `type`, `config`. Наличие дополнительных свойств: **Недопустимо**.
    - `type`: Константа: **vault**. Тип хранилища. Необходим, чтобы дать Aureole понять, какое из хранилищ использовать.
    - `config`: Тип: **object**. Конфигурация хранилища. Описывает все свойства данного хранилища. Обязательны: `token`, `address`, `path`.
      - `token`: Тип: **string**. Аутентификационный токен. Токен, по которому Aureole будет аутентифицироваться в Vault.
      - `address`: Тип: **string**. Дополнительно: Абсолютный URL-адрес. Адрес сервера Vault. Адрес, на котором запущен сервер Vault.
      - `path`: Тип: **string**. Дополнительно: Относительный URL-адрес. Путь к хранилищу. Путь к хранилищу, с которым Aureole может производить операции чтения/записи.
    ### Пример конфига
    ```yaml
    storages:
      - type: "vault"
        name: vault_keys_store
        config:
          token: "some_secret_token"
          address: "http://127.0.0.1:8200"
          path: "/secret/keys"
    ```
