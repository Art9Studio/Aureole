# Деплой в один клик на хостинг Render
***

В этом руководстве рассказано, как развернуть Aureole на платформе Render.

## Деплой Aureole с новой Postgresql БД

### Шаг 1: Переход к деплою
Нажмите кнопку ниже, чтобы развернуть Aureole на Render за несколько секунд:

[![Deploy to Render](https://render.com/images/deploy-to-render-button.svg)](https://render.com/deploy?repo=https://github.com/Art9Studio/Aureole)

::: tip
Если у Вас нет аккаунта Render, то при развертывании Вам необходимо будет его создать.
После входа в аккаунт, Вы сразу же будете перенаправлены на страницу развертывания Aureole.
:::

После перехода на страницу развертывания, Вам необходимо ввести уникальное имя группы сервисов Render - `Service Group Name`.
Также, убедитесь в том, что выбрана ветка `main`, содержащая актуальную версию Aureole.

### Шаг 2: Переменные окружения
На этапе развертывания Вы можете кастомизировать поведение Aureole, путем передачи серверу переменных
окружения, описанных ниже:
- `JWT_ACCESS_BEARER` - способ отправки access-токена. Возможные варианты: `cookie`, `header`, `both`.
- `JWT_REFRESH_BEARER` - способ отправки refresh-токена. Возможные варианты: `cookie`, `body`, `both`.
- `GOOGLE_CLIENT_ID` - идентификатор OAuth2 приложения Google.
- `GOOGLE_SECRET` - секретный ключ OAuth2 приложения Google.
- `VK_CLIENT_ID` - идентификатор OAuth2 приложения VK.
- `VK_SECRET` - секретный ключ OAuth2 приложения VK.
- `FACEBOOK_CLIENT_ID` - идентификатор OAuth2 приложения Facebook.
- `FACEBOOK_SECRET` - секретный ключ OAuth2 приложения Facebook.
- `APPLE_CLIENT_ID` - Service ID, который Вы получили от Apple.
- `APPLE_TEAM_ID` - Ваш идентификатор пользователя Apple.
- `APPLE_KEY_ID` - идентификатор приватного ключа Apple.
- `APPLE_PRIVATE_KEY` - приватный ключ от провайдера Apple. Нужен для подписи JWT токенов для провайдера. 
Просто скопируйте содержимое файла с приватным ключом, полученным от провайдера, и вставьте в это поле. 
- `SMTP_HOST` - хост SMTP-сервера.
- `SMTP_USERNAME` - username для аутентификации на SMTP-сервере.
- `SMTP_PASSWORD` - пароль для аутентификации на SMTP-сервере.
- `SMTP_FROM` - аккаунт, от имени которого будут отправляться письма.
- `TWILIO_ACCOUNT_SID` - идентификатор Twilio аккаунта.
- `TWILIO_AUTH_TOKEN` - токен Twilio аккаунта.
- `TWILIO_PHONE_NUMBER` - номер, от имени которого будут отправляться сообщения.

Все переменные окружения являются необязательными. Если Вы захотите использовать какой-либо из плагинов
OAuth2 или отправки сообщений по электронной почте или мобильной сети, то просто заполните необходимые
переменные, в противном случае - оставьте переменные пустыми и данные плагины будут автоматически отключены, что
никак не отразится на работе Aureole.

### Шаг 3: Деплой
После внесения всех необходимых данных, примените изменения и ожидайте окончания деплоя.
Во время деплоя также автоматически будет создана БД Postgresql со всеми необходимыми для работы таблицами.