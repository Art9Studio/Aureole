"use strict";(self.webpackChunkaureole=self.webpackChunkaureole||[]).push([[593],{4563:(n,s,a)=>{a.r(s),a.d(s,{data:()=>l});const l={key:"v-2377d774",path:"/config/project.html",title:"Aureole Config",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:3,title:"Пример конфига",slug:"пример-конфига",children:[]}],filePathRelative:"config/project.md",git:{contributors:[{name:"Semen Asaevich",email:"semen.asaevich@gmail.com",commits:10},{name:"asaevich",email:"semen.asaevich@gmail.com",commits:1}]}}},1933:(n,s,a)=>{a.r(s),a.d(s,{default:()=>Vn});var l=a(6252);const e=(0,l._)("h1",{id:"aureole-config",tabindex:"-1"},[(0,l._)("a",{class:"header-anchor",href:"#aureole-config","aria-hidden":"true"},"#"),(0,l.Uk)(" Aureole Config")],-1),t=(0,l._)("hr",null,null,-1),o=(0,l.Uk)("Тип: "),r=(0,l._)("strong",null,"object",-1),u=(0,l.Uk)(". Обязательны: "),p=(0,l._)("code",null,"api_version",-1),c=(0,l.Uk)(", "),i=(0,l._)("code",null,"apps",-1),k=(0,l.Uk)(". Наличие дополнительных свойств: "),g=(0,l._)("strong",null,"Недопустимо",-1),_=(0,l.Uk)(". "),m=(0,l._)("li",null,[(0,l._)("code",null,"api_version"),(0,l.Uk)(": Тип: "),(0,l._)("strong",null,"string"),(0,l.Uk)(". Версия API. Версия API указывается для обратной совместимости при грядущих обновлениях продукта.")],-1),d=(0,l._)("li",null,[(0,l._)("code",null,"test_run"),(0,l.Uk)(": Тип: "),(0,l._)("strong",null,"boolean"),(0,l.Uk)(". Значение по-умолчанию: "),(0,l._)("strong",null,"False"),(0,l.Uk)(". Флаг тестового запуска сервера. Предназначен для запуска сервера в тестовом режиме. В тестовом режиме все HTTPS запросы будут проводиться в незащищенном режиме. Запуск в данном режиме предназначен только для тестирования сервера.")],-1),b=(0,l._)("code",null,"apps",-1),U=(0,l.Uk)(": Тип: "),y=(0,l._)("strong",null,"array",-1),h=(0,l.Uk)(". Перечисление приложений. Используется для указания конфигураций всех приложений, которые использует Aureole. Минимальное кол-во элементов: "),f=(0,l._)("strong",null,"1",-1),v=(0,l.Uk)(". "),A=(0,l._)("strong",null,"Элементы",-1),W=(0,l.Uk)(": Тип: "),w=(0,l._)("strong",null,"object",-1),T=(0,l.Uk)(". Конфигурация одного приложения. Используется для конфигурирования одного приложения. Обязательны: "),S=(0,l._)("code",null,"name",-1),P=(0,l.Uk)(", "),x=(0,l._)("code",null,"authN",-1),C=(0,l.Uk)(". Наличие дополнительных свойств: "),j=(0,l._)("strong",null,"Недопустимо",-1),J=(0,l.Uk)(". "),R=(0,l.uE)("<li><code>name</code>: Тип: <strong>string</strong>. Имя приложения. Используется для идентификации конфигурации определенного приложения. Минимальная длина: <strong>1</strong>.</li><li><code>host</code>: Тип: <strong>string</strong>. Дополнительно: Абсолютный URL-адрес. Значение по-умолчанию: <strong>http://localhost:3000</strong>. Хост, на котором работает приложение. Указывается в формате &lt;протокол&gt;://&lt;хост&gt;:&lt;порт&gt;. Если не указан протокол, то будет использован HTTP. Хост используется для формирования абсолютных маршрутов приложения.</li><li><code>path_prefix</code>: Тип: <strong>string</strong>. Дополнительно: Относительный URL-адрес. Значение по-умолчанию: <strong>/</strong>. Префикс маршрута приложения. Префикс используется для образования пространства имен данного приложения. Должен быть уникальным в пределах перечисления.</li><li><code>auth_session_exp</code>: Тип: <strong>integer</strong>. Дополнительно: Единицы измерения: s. Значение по-умолчанию: <strong>86400</strong>. Время жизни аутентификационной сессии. Время, в течении которого будут валидны данные созданные во время аутентификационной сессии. К таким данным относятся промежуточные JWT и данные, сохраненные в сервисное хранилище Минимальное значение: <strong>0</strong>.</li><li><code>service</code>: Тип: <strong>object</strong>. Сервисная конфигурация. Настройки, необходимые для нормального функционирования сервера Aureole. Обязательны: <code>storage</code>. Наличие дополнительных свойств: <strong>Недопустимо</strong>. <ul><li><code>sign_key</code>: Тип: <strong>string</strong>. Дополнительно: Ссылка на экземпляр плагина крипто-ключа. Внутренний сервисный ключ для подписи. Данный ключ един для всего сервера либо же для нескольких серверов и необходим для подписи промежуточных JWT. Промежуточные JWT используются для различного рода подтверждения действия со стороны пользователя&#39;:&#39; сброса пароля, беспарольного логина черех Email, двухфакторной аутентификации. Минимальная длина: <strong>1</strong>.</li><li><code>enc_key</code>: Тип: <strong>string</strong>. Дополнительно: Ссылка на экземпляр плагина крипто-ключа. Внутренний сервисный ключ для шифрования. Данный ключ един для всего сервера либо же для нескольких серверов и необходим для шифрования каких-либо данных, как например OTP для SMS двухфакторной аутентификации. Минимальная длина: <strong>1</strong>.</li><li><code>storage</code>: Тип: <strong>string</strong>. Дополнительно: Ссылка на экземпляр плагина хранилища ключей. Сервисное хранилище Aureole. Данной хранилище используется Aureole для учета и инвалидации выданных им JWT. Минимальная длина: <strong>1</strong>.</li></ul></li>",5),Z=(0,l._)("code",null,"authN",-1),z=(0,l.Uk)(": Тип: "),E=(0,l._)("strong",null,"array",-1),F=(0,l.Uk)(". Перечисление конфигураций аутентификаторов. Используется для указания конфигураций всех аутентификаторов, которые используются в приложении. Каждый аутентификатор независим от других и должен использовать свои, уникальные в пределах приложения, маршруты. Минимальное кол-во элементов: "),H=(0,l._)("strong",null,"1",-1),I=(0,l.Uk)(". "),L=(0,l._)("strong",null,"Элементы",-1),N=(0,l.Uk)(": См. "),q=(0,l.Uk)("Authn"),M=(0,l.Uk)("."),D=(0,l._)("code",null,"authZ",-1),K=(0,l.Uk)(": См. "),O=(0,l.Uk)("Authz"),Y=(0,l.Uk)("."),B=(0,l._)("code",null,"2fa",-1),G=(0,l.Uk)(": Тип: "),Q=(0,l._)("strong",null,"array",-1),V=(0,l.Uk)(". Перечисление конфигураций плагинов двухфакторной аутентификации. Используется для указания конфигураций всех двухфакторных аутентификаций, которые используются в проекте. "),X=(0,l._)("strong",null,"Элементы",-1),$=(0,l.Uk)(": См. "),nn=(0,l.Uk)("2Fa"),sn=(0,l.Uk)("."),an=(0,l._)("code",null,"id_manager",-1),ln=(0,l.Uk)(": См. "),en=(0,l.Uk)("IdManager"),tn=(0,l.Uk)("."),on=(0,l._)("code",null,"storages",-1),rn=(0,l.Uk)(": Тип: "),un=(0,l._)("strong",null,"array",-1),pn=(0,l.Uk)(". Перечисление конфигураций хранилищ. Используется для указания конфигураций всех хранилищ, которые используются в проекте. Минимальное кол-во элементов: "),cn=(0,l._)("strong",null,"1",-1),kn=(0,l.Uk)(". "),gn=(0,l._)("strong",null,"Элементы",-1),_n=(0,l.Uk)(": См. "),mn=(0,l.Uk)("Storage"),dn=(0,l.Uk)("."),bn=(0,l._)("code",null,"crypto_storages",-1),Un=(0,l.Uk)(": Тип: "),yn=(0,l._)("strong",null,"array",-1),hn=(0,l.Uk)(". Перечисление конфигураций хранилищ ключей. Используется для указания конфигураций всех хранилищ ключей, которые используются в проекте. "),fn=(0,l._)("strong",null,"Элементы",-1),vn=(0,l.Uk)(": См. "),An=(0,l.Uk)("CryptoStorage"),Wn=(0,l.Uk)("."),wn=(0,l._)("code",null,"crypto_keys",-1),Tn=(0,l.Uk)(": Тип: "),Sn=(0,l._)("strong",null,"array",-1),Pn=(0,l.Uk)(". Перечисление конфигураций ключей. Используется для указания конфигураций всех ключей, которые используются в проекте. "),xn=(0,l._)("strong",null,"Элементы",-1),Cn=(0,l.Uk)(": См. "),jn=(0,l.Uk)("CryptoKey"),Jn=(0,l.Uk)("."),Rn=(0,l._)("code",null,"senders",-1),Zn=(0,l.Uk)(": Тип: "),zn=(0,l._)("strong",null,"array",-1),En=(0,l.Uk)(". Перечисление конфигураций отправителей. Используется для указания конфигураций всех отправителей, которые используются в проекте. "),Fn=(0,l._)("strong",null,"Элементы",-1),Hn=(0,l.Uk)(": См. "),In=(0,l.Uk)("Sender"),Ln=(0,l.Uk)("."),Nn=(0,l._)("code",null,"admin_plugins",-1),qn=(0,l.Uk)(": Тип: "),Mn=(0,l._)("strong",null,"array",-1),Dn=(0,l.Uk)(". Перечисление конфигураций административных плагинов. Используется для указания конфигураций всех административных плагинов, которые используются в проекте. Административные плагины не несут какой-либо пользы конечным пользователям, а лишь предоставляют различные административные возможность для работы с Aureole. "),Kn=(0,l._)("strong",null,"Элементы",-1),On=(0,l.Uk)(": См. "),Yn=(0,l.Uk)("AdminPlugin"),Bn=(0,l.Uk)("."),Gn=(0,l.uE)('<h3 id="пример-конфига" tabindex="-1"><a class="header-anchor" href="#пример-конфига" aria-hidden="true">#</a> Пример конфига</h3><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">api_version</span><span class="token punctuation">:</span> <span class="token string">&quot;0.1&quot;</span>\n\n<span class="token key atrule">apps</span><span class="token punctuation">:</span>\n  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> app\n\n    <span class="token key atrule">service</span><span class="token punctuation">:</span>\n      <span class="token key atrule">enc_key</span><span class="token punctuation">:</span> service_enc_key\n      <span class="token key atrule">sign_key</span><span class="token punctuation">:</span> service_sign_key\n      <span class="token key atrule">storage</span><span class="token punctuation">:</span> service_store\n\n    <span class="token key atrule">authN</span><span class="token punctuation">:</span>\n      <span class="token comment"># array of authenticators</span>\n    <span class="token key atrule">authZ</span><span class="token punctuation">:</span>\n      <span class="token comment"># authorizer config</span>\n    <span class="token key atrule">2fa</span><span class="token punctuation">:</span>\n      <span class="token comment"># array of 2FA plugins</span>\n    <span class="token key atrule">id_manager</span><span class="token punctuation">:</span>\n      <span class="token comment"># identity manager config</span>\n\n    <span class="token key atrule">storages</span><span class="token punctuation">:</span>\n      <span class="token comment"># array of storages</span>\n    <span class="token key atrule">crypto_storages</span><span class="token punctuation">:</span>\n      <span class="token comment"># array of crypto storages</span>\n    <span class="token key atrule">crypo_keys</span><span class="token punctuation">:</span>\n      <span class="token comment"># array of crypto keys</span>\n    <span class="token key atrule">senders</span><span class="token punctuation">:</span>\n      <span class="token comment"># array of senders</span>\n    <span class="token key atrule">admin_plugins</span><span class="token punctuation">:</span>\n      <span class="token comment"># array of admin plugins</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div>',2),Qn={},Vn=(0,a(3744).Z)(Qn,[["render",function(n,s){const a=(0,l.up)("RouterLink");return(0,l.wg)(),(0,l.iD)(l.HY,null,[e,t,(0,l._)("ul",null,[(0,l._)("li",null,[o,r,u,p,c,i,k,g,_,(0,l._)("ul",null,[m,d,(0,l._)("li",null,[b,U,y,h,f,v,(0,l._)("ul",null,[(0,l._)("li",null,[A,W,w,T,S,P,x,C,j,J,(0,l._)("ul",null,[R,(0,l._)("li",null,[Z,z,E,F,H,I,(0,l._)("ul",null,[(0,l._)("li",null,[L,N,(0,l.Wm)(a,{to:"/config/authn.html"},{default:(0,l.w5)((()=>[q])),_:1}),M])])]),(0,l._)("li",null,[D,K,(0,l.Wm)(a,{to:"/config/authz.html"},{default:(0,l.w5)((()=>[O])),_:1}),Y]),(0,l._)("li",null,[B,G,Q,V,(0,l._)("ul",null,[(0,l._)("li",null,[X,$,(0,l.Wm)(a,{to:"/config/2fa.html"},{default:(0,l.w5)((()=>[nn])),_:1}),sn])])]),(0,l._)("li",null,[an,ln,(0,l.Wm)(a,{to:"/config/id_manager.html"},{default:(0,l.w5)((()=>[en])),_:1}),tn]),(0,l._)("li",null,[on,rn,un,pn,cn,kn,(0,l._)("ul",null,[(0,l._)("li",null,[gn,_n,(0,l.Wm)(a,{to:"/config/storage.html"},{default:(0,l.w5)((()=>[mn])),_:1}),dn])])]),(0,l._)("li",null,[bn,Un,yn,hn,(0,l._)("ul",null,[(0,l._)("li",null,[fn,vn,(0,l.Wm)(a,{to:"/config/crypto_storage.html"},{default:(0,l.w5)((()=>[An])),_:1}),Wn])])]),(0,l._)("li",null,[wn,Tn,Sn,Pn,(0,l._)("ul",null,[(0,l._)("li",null,[xn,Cn,(0,l.Wm)(a,{to:"/config/crypto_key.html"},{default:(0,l.w5)((()=>[jn])),_:1}),Jn])])]),(0,l._)("li",null,[Rn,Zn,zn,En,(0,l._)("ul",null,[(0,l._)("li",null,[Fn,Hn,(0,l.Wm)(a,{to:"/config/sender.html"},{default:(0,l.w5)((()=>[In])),_:1}),Ln])])]),(0,l._)("li",null,[Nn,qn,Mn,Dn,(0,l._)("ul",null,[(0,l._)("li",null,[Kn,On,(0,l.Wm)(a,{to:"/config/admin_plugin.html"},{default:(0,l.w5)((()=>[Yn])),_:1}),Bn])])])])])])])]),Gn])])],64)}]])},3744:(n,s)=>{s.Z=(n,s)=>{for(const[a,l]of s)n[a]=l;return n}}}]);